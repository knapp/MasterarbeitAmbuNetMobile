\chapter{Analyse der Anforderungen und daraus abgeleitete Entwurfsentscheidungen}
\label{ch:anforderungsanalyse}

In diesem Kapitel werden die aus Literatur und vorangegangenen Projekten hervorgegangenen Anforderungen an eine mobile
Anwendung zur Dokumentation von ärztlich übertragenen Tätigkeiten vorgestellt. In Abschnitt \ref{sec:analyse} werden
funktionelle Anforderungen beschrieben und technische Anforderungen daraus abgeleitet. Abschnitt
\ref{sec:entwurfsentscheidungen} stellt Entwurfsentscheidungen vor, die zur Realisierung der Anwendung getroffen wurden.

\section{Analyse der Anforderungen}
\label{sec:analyse}

Zu Beginn der Bearbeitungszeit der Master-Arbeit konnte kein Termin mit den eigentlichen Endnutzern der mobilen
Anwendung vereinbart werden, um eine direkte Anforderungserhebung durchzuführen. Aufgrund dessen musste zunächst eine
Anforderungsanalyse auf Basis von Literatur, aktuellen und vorangegangenen Arbeiten ergänzt um Gespräche mit mit
sachkundigen Mitarbeitern von Kranken- und Pflegeeinrichtungen durchgeführt werden. Da die Grundlage für die
Möglichkeit, ärztliche Tätigkeiten an speziell geschulte Pflegekräfte zu übertragen, die Richtlinie des Gemeinsamen
Bundesausschusses basierend auf § 63 Abs. 3c SGB V ist, kann die Dokumentation der hier aufgelisteten übertragbaren
Leistungen als Basisanforderung gesehen werden. Ein Problem ist aber, dass aus der Auflistung der Tätigkeiten nicht die
zu dokumentierenden Daten hervorgehen. Diese konnten in der Literatur jedoch nicht im Detail ermittelt werden, da
einige Leistungen medizinisches Fachwissen über deren Erbringung erfordern. Deswegen wurde zunächst
angenommen, dass in der Regel eine Bestätigung, ob eine Leistung erbracht wurde, ausreicht, und sonnst nur die
Dokumentation von Blutdruck und Puls als wertbasierte Leistungen notwendig ist, sowie das Fotografieren von Wunden.
Weitere zu dokumentierende Werte konnten erst bei einem Treffen mit den Endnutzern ermittelt werden. Die Ergebnisse
werden in Kapitel \ref{sec:evalEndnutzer} vorgestellt.\\

Das Ausbildungsprogramm zu einer \acs{mfp} nimmt keine Einschränkung des Arbeitsgebietes vor. Eine Pflegekraft kann
somit sowohl stationär in einer Pflegeeinrichtung arbeiten, als auch im ambulanten Dienst tätig sein, bei der die
jeweiligen Klienten besucht werden. Die mobile Anwendung ist folglich so zu gestalten, dass beide Einsatzbereiche
abgedeckt werden können. Es ist zu erwarten, dass die zu erbringenden Leistungen im stationären und im ambulanten
Bereich die gleichen sein werden, jedoch können sich Unterschiede bei den technischen Anforderungen oder der
Terminologie ergeben. Wird im Folgenden keine explizite Unterscheidung zwischen ambulanten und stationären Anforderungen
genannt, so gilt eine Anforderung für beide Bereiche.\\

Jede ärztlich übertragene Tätigkeit kann direkt einer Person zugeordnet werden. Um eine Interaktion mit der Person zu
ermöglichen, müssen bestimmte Daten über diese verfügbar sein. Hierzu gehören Stammdaten wie Name, Adresse, Anschrift
und Alter, medizinische Daten über aktuell verabreichte Medikamente, Vorerkrankungen oder Allergien sowie Angaben zu
Angehörigen, dem zuständigen Hausarzt und einer eventuellen Pflegebedürftigkeit. Aus der Notwendigkeit der Verfügbarkeit
persönlicher Daten ergibt sich die Anforderung, diese Daten ausreichend zu schützen und nur dem jeweiligen
Pflegepersonal zur Verfügung zu stellen. Folglich muss eine Authentifizierungsfunktion in Form einer Anmeldung mit
Benutzername und Passwort (Log-In) implementiert werden. Ein Log-In ermöglicht es außerdem, der angemeldeten Pflegekraft
nur die Informationen anzuzeigen, die sie für die Ausführung ihrer Tätigkeit benötigt (Autorisierungsfunktion). So kann
ausgeschlossen werden, dass Informationen über Klienten verfügbar sind, die gerade nicht behandelt werden.\\
Es wird angenommen, dass Pflegekräfte in Schichten arbeiten, da eine Versorgung von Klienten Tag und Nacht gewährleistet
sein muss. Weiter wird angenommen, dass jede Pflegekraft während einer Schicht für eine bestimmte Anzahl von Klienten
zuständig ist, für die eine Menge vordefinierter Leistungen erbracht werden muss. Zu Beginn jeder Schicht bekommt eine
Pflegekraft einen Plan ausgehändigt, in dem die abzuarbeitenden Stationen und die entsprechenden Leistungen aufgelistet
sind. In diesem Plan muss jede Leistung dokumentiert werden (vgl. \cite[S. 18 ff.]{diplChristina}). Eine Leistung wird
entweder durch das Setzen eines Hakens dokumentiert (Bestätigung) oder durch die Eintragung von Messwerten,
beispielsweise im Falle der Erfassung von Blutdruck und Puls. Ziel der mobilen Anwendung ist es, dass sowohl die
Übermittlung des Tagesplanes pro Pflegekraft als auch die Dokumentation der Leistungen elektronisch erfolgt. In einer
Übersicht über alle Klienten/Stationen sollte direkt erkennbar sein, ob bereits alle Leistungen einer Station erbracht
wurden, ohne die Einzelleistungen kontrollieren zu müssen.\\
Konnte eine Leistung nicht oder nicht vollständig erbracht werden, muss es die Möglichkeit geben, dies zu dokumentieren.
Neben einer Markierung der Leistung muss ein Feld für eine Begründung (Freitext oder mit vordefinierten Bausteinen)  der
Nichterbringung der Leistung verfügbar sein. In der Übersicht über die Stationen einer Schicht sollte neben den
Zuständen "`Erledigt"' und "`Offen"' außerdem der Zustand "`Unvollständig abgeschlossen"' ersichtlich sein, um zu
zeigen, dass zwar alle Leistungen bearbeitet wurden, jedoch nicht alle erbracht werden konnten.\\
Bei der manuellen Dokumentation kann es immer wieder zu Fehlern kommen. Beispielsweise wenn Werte falsch eingetragen
oder Leistungen bestätigt werden, die eigentlich noch nicht vollständig erfüllt sind. Da diese Fehler auch mit einer
elektronischen Dokumentation nicht ausgeschlossen werden können, müssen einmal dokumentierte Leistungen stornierbar und
korrigierbar sein, ohne dass im zentralen System eingegriffen werden muss. Um einer Verfälschung von
Dokumentationsergebnissen durch nachträgliche Veränderungen beispielsweise von Messwerten entgegen zu wirken, sollte
protokolliert werden, wer zu welchem Zeitpunkt eine Änderung vornimmt. Diese Protokollfunktion muss zur vollständigen
Überwachung auch im zentralen System verfügbar sein und mit der mobilen Anwendung synchron gehalten werden.\\
Vor allem im ambulanten Bereich kann es immer wieder vorkommen, dass Klienten in Gegenden besucht 


\begin{itemize}
  \item Wie wurden die Anforderungen erhoben?
	  \begin{itemize}
	  		\item Richtlinie
	  		\item Gespräche mit Raymond
	  		\item Gespräche Corinna
	  		\item Gesunder Menschenverstand
	  		\item Wissen über Zielgruppe
	  		\item Artikel Ärzteblatt
	  		\item Diplomarbeit Christina Hardt
	  		\item Projekt VitaBit (Schlüsselnummer, Tourenplan)
	  		\item \ldots   
  	  \end{itemize}
  \item Kernanforderungen (Prio A)
  	\begin{itemize}
	  		\item Funktionalität
	  			\begin{itemize}
			  		\item Informationen über Klienten müssen verfügbar sein (Patientenakte) [CHECK]
			  		\item Persönliche Daten $\rightarrow$ Schutz durch Login-Funktion [CHECK]
			  		\item Dokumentation von Tätigkeiten aus Richtlinie muss möglich sein [CHECK]
			  		\item ambulante und stationäre Pflege abdecken! [CHECK]			  		
			  		\item Dokumentierte Tätigkeiten müssen an zentrales System übertragbar sein [CHECK] 
			  		\item Ablaufplan jeweils für eine MFP pro Tag/Schicht	[CHECK]	
			  		\item Übersicht, ob jeweilige Station schon vollständig abgearbeitet [CHECK]	  		
			  		\item Es muss eine Tätigkeit als \textit{nicht durchgeführt} markiert werden können + Begründung,falls etwas			  		
			  		dazwischenkommt [CHECK]
			  		\item Einmal dokumentierte Werte sollten korrigierbar sein [CHECK]
			  		\item Nachvollziehbarkeit von Änderungen [CHECK]		  		
			  		\item Daten "`offline"' auf dem Endgerät verfügbar, d.h. keine zwangsläufige Internetverbindung
			  		\item Dokumentation von Wunden (Fotos)
			  		\item Erfassung von Vitalwerten (Blutdruck, Puls), evtl. mittels automatischer Erfassung
			  		\item Schlüsselnummer für Hausbesuche bzw. Zimmernummer bei stationären Behandlungen (aus VitaBIT)			  		
			  		\item Klar und übersichtlich strukturierte Anwendung, intuitive Bedienung (am besten Touch, Endnutzerwissen)
			  		\item Für ambulanten Dienst eventuell Navigation mittels GPS
			  		\item Telefongespräche?
			  		\item \ldots   
		  	    \end{itemize}
		  	\item Abgeleitete technische Anforderungen
			   \begin{itemize}
			     	\item sozialer Kontext $\rightarrow$ günstige Hardware
			  		\item da zentrales System über REST (Erklärung REST!) kommuniziert, muss diese Schnittstelle bedient werden
			  		\item \textbf{Hardware:} mobiles Endgerät muss internetfähig sein (am besten über Mobilfunknetze für ambulanten
			  		Dienst), eine Kamera haben (Wunddokumentation), am besten Touch-Bedienung, darf trotzdem nicht so teuer sein, evtl. GPS, falls
			  		automatische Erfassung evtl. Bluetooth $\rightarrow$ Android-Tablet
			  		\item Falls doch jemand Apple will, nach Mglk. suchen, wie das evtl. auch bedienst werden kann
			  		\item Änderungen an zu dokumentierenden Tätigkeiten sind zu erwarten, also möglichst flexible Architektur
			  		\item Lokale Datenbanken müssen einrichtbar sein
			  		\item \ldots   
		  	  \end{itemize} 
	  		\item \ldots   
  	  \end{itemize}
  \item Wünschenswerte Eigenschaften, um Nutzungskomfort zu steigern (Prio B)
  \item Anforderungen, die über die reine Dokumentation oder dessen Unterstützung hinausgehen (Prio C, werden in der Arbeit nicht behandelt)
\end{itemize}

\section{Entwurfsentscheidungen des Gesamtsystems auf Basis der erhobenen Anforderungen}
\label{sec:entwurfsentscheidungen}

\begin{itemize}
  \item Kurze Erklärung der Kommunikation zwischen App und zentralem System (CareNet). Erklärung,  
  warum Middleware notwendig (Cross Domain Calling) und warum gewünscht (Erweiterung um
  Schnittstellen zu Krankenhäusern und Hausarztpraxen).
  \item Middleware
  	\begin{itemize}
  	 	\item Technologie (PHP)
  	 	\item Wo wird Middleware positioniert? Welcher Server? (konzeptionell)
  	 	\item Kommunikation mit REST (Was ist es? Was sind die Vorteile? Wie wird Sicherheit
  	 	hergestellt?)  	 	
  	\end{itemize}
  \item Technologie des Software-Assistenten
  	\begin{itemize}
  	  \item Warum überhaupt Tablet? (Vgl. mit Diplomarbeit der anderen Studentin auf Nokia-Handy)
  	  \item Plattform (Android)
  	  \item Nativ vs. hybrid
  	\end{itemize}
  \item Architektur (Plug-In-Struktur)
  \begin{itemize}
  	  \item Warum Plug-In? Vorteile?
  	  \item Argumentation mit Wartbarkeit (ISO-Richtlinie), Erwartete Änderungen der Anforderungen,
			Verweis auf Entwurfsmuster, Vgl.mit Eclipse als Praktische Implementierung
  	\end{itemize}
\end{itemize}