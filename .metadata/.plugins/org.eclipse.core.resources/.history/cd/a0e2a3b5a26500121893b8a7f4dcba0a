\chapter{Analyse der Anforderungen und daraus abgeleitete Entwurfsentscheidungen}
\label{ch:anforderungsanalyse}

In diesem Kapitel werden die aus Literatur und vorangegangenen Projekten hervorgegangenen Anforderungen an eine mobile
Anwendung zur Dokumentation von ärztlich übertragenen Tätigkeiten vorgestellt. In Abschnitt \ref{sec:analyse} werden
funktionelle Anforderungen beschrieben und technische Anforderungen daraus abgeleitet. Abschnitt
\ref{sec:entwurfsentscheidungen} stellt Entwurfsentscheidungen vor, die zur Realisierung der Anwendung getroffen wurden.

\section{Analyse der Anforderungen}
\label{sec:analyse}

Zu Beginn der Bearbeitungszeit der Master-Arbeit konnte kein Termin mit den eigentlichen Endnutzern der mobilen
Anwendung vereinbart werden, um eine direkte Anforderungserhebung durchzuführen. Aufgrund dessen musste zunächst eine
Anforderungsanalyse auf Basis von Literatur, aktuellen und vorangegangenen Arbeiten ergänzt um Gespräche mit mit
sachkundigen Mitarbeitern von Kranken- und Pflegeeinrichtungen durchgeführt werden. Da die Grundlage für die
Möglichkeit, ärztliche Tätigkeiten an speziell geschulte Pflegekräfte zu übertragen, die Richtlinie des Gemeinsamen
Bundesausschusses basierend auf § 63 Abs. 3c SGB V ist, kann die Dokumentation der hier aufgelisteten übertragbaren
Leistungen als Basisanforderung gesehen werden. Ein Problem ist aber, dass aus der Auflistung der Tätigkeiten nicht die
zu dokumentierenden Daten hervorgehen. Diese konnten in der Literatur jedoch nicht im Detail ermittelt werden, da
einige Leistungen medizinisches Fachwissen über deren Erbringung erfordern. Deswegen wurde zunächst
angenommen, dass in der Regel eine Bestätigung, ob eine Leistung erbracht wurde, ausreicht, und sonnst nur die
Dokumentation von Blutdruck und Puls als wertbasierte Leistungen notwendig ist, sowie das Fotografieren von Wunden.
Weitere zu dokumentierende Werte konnten erst bei einem Treffen mit den Endnutzern ermittelt werden. Die Ergebnisse
werden in Kapitel \ref{sec:evalEndnutzer} vorgestellt.\\

Das Ausbildungsprogramm zu einer \acs{mfp} nimmt keine Einschränkung des Arbeitsgebietes vor. Eine Pflegekraft kann
somit sowohl stationär in einer Pflegeeinrichtung arbeiten, als auch im ambulanten Dienst tätig sein, bei der die
jeweiligen Klienten besucht werden. Die mobile Anwendung ist folglich so zu gestalten, dass beide Einsatzbereiche
abgedeckt werden können. Es ist zu erwarten, dass die zu erbringenden Leistungen im stationären und im ambulanten
Bereich die gleichen sein werden, jedoch können sich Unterschiede bei den technischen Anforderungen oder der
Terminologie ergeben. Wird im Folgenden keine explizite Unterscheidung zwischen ambulanten und stationären Anforderungen
genannt, so gilt eine Anforderung für beide Bereiche.\\

Jede ärztlich übertragene Tätigkeit kann direkt einer Person zugeordnet werden. Um eine Interaktion mit der Person zu
ermöglichen, müssen bestimmte Daten über diese verfügbar sein. Hierzu gehören Stammdaten wie Name, Adresse, Anschrift
und Alter, medizinische Daten über aktuell verabreichte Medikamente, Vorerkrankungen oder Allergien sowie Angaben zu
Angehörigen, dem zuständigen Hausarzt und einer eventuellen Pflegebedürftigkeit. Aus der Notwendigkeit der Verfügbarkeit
persönlicher Daten ergibt sich die Anforderung, diese Daten ausreichend zu schützen und nur dem jeweiligen
Pflegepersonal zur Verfügung zu stellen. Folglich muss eine Authentifizierungsfunktion in Form einer Anmeldung mit
Benutzername und Passwort (Log-In) implementiert werden. Ein Log-In ermöglicht es außerdem, der angemeldeten Pflegekraft
nur die Informationen anzuzeigen, die sie für die Ausführung ihrer Tätigkeit benötigt (Autorisierungsfunktion). So kann
ausgeschlossen werden, dass Informationen über Klienten verfügbar sind, die gerade nicht behandelt werden.\\
Es wird angenommen, dass Pflegekräfte in Schichten arbeiten, da eine Versorgung von Klienten Tag und Nacht gewährleistet
sein muss. Weiter wird angenommen, dass jede Pflegekraft während einer Schicht für eine bestimmte Anzahl von Klienten
zuständig ist, für die eine Menge vordefinierter Leistungen erbracht werden muss. Zu Beginn jeder Schicht bekommt eine
Pflegekraft einen Plan ausgehändigt, in dem die abzuarbeitenden Stationen und die entsprechenden Leistungen aufgelistet
sind. In diesem Plan muss jede Leistung dokumentiert werden (vgl. \cite[S. 18 ff.]{diplChristina}). Eine Leistung wird
entweder durch das Setzen eines Hakens dokumentiert (Bestätigung) oder durch die Eintragung von Messwerten,
beispielsweise im Falle der Erfassung von Blutdruck und Puls. Ziel der mobilen Anwendung ist es, dass sowohl die
Übermittlung des Tagesplanes pro Pflegekraft als auch die Dokumentation der Leistungen elektronisch erfolgt. In einer
Übersicht über alle Klienten/Stationen sollte direkt erkennbar sein, ob bereits alle Leistungen einer Station erbracht
wurden, ohne die Einzelleistungen kontrollieren zu müssen.\\
Konnte eine Leistung nicht oder nicht vollständig erbracht werden, muss es die Möglichkeit geben, dies zu dokumentieren.
Neben einer Markierung der Leistung muss ein Feld für eine Begründung (Freitext oder mit vordefinierten Bausteinen)  der
Nichterbringung der Leistung verfügbar sein. In der Übersicht über die Stationen einer Schicht sollte neben den
Zuständen "`Erledigt"' und "`Offen"' außerdem der Zustand "`Unvollständig abgeschlossen"' ersichtlich sein, um zu
zeigen, dass zwar alle Leistungen bearbeitet wurden, jedoch nicht alle erbracht werden konnten.\\
Bei der manuellen Dokumentation kann es immer wieder zu Fehlern kommen. Beispielsweise wenn Werte falsch eingetragen
oder Leistungen bestätigt werden, die eigentlich noch nicht vollständig erfüllt sind. Da diese Fehler auch mit einer
elektronischen Dokumentation nicht ausgeschlossen werden können, müssen einmal dokumentierte Leistungen stornierbar und
korrigierbar sein, ohne dass im zentralen System eingegriffen werden muss. Um einer Verfälschung von
Dokumentationsergebnissen durch nachträgliche Veränderungen beispielsweise von Messwerten entgegen zu wirken, sollte
protokolliert werden, wer zu welchem Zeitpunkt eine Änderung vornimmt. Diese Protokollfunktion muss zur vollständigen
Überwachung auch im zentralen System verfügbar sein und mit der mobilen Anwendung synchron gehalten werden.\\
Vor allem im ambulanten Bereich kann es immer wieder vorkommen, dass Klienten in Gegenden besucht werden müssen, in
denen kein mobiles Internet verfügbar ist. Da der Datenaustausch zwischen mobiler Anwendung und zentralem
Verwaltungssystem über eine Internetverbindung geschieht, wäre somit die Arbeit mit dem mobilen System nicht möglich.
Darauf zu setzen, dass beim Klienten vor Ort eine lokale Internetverbindung genutzt werden kann, ist auch keine
praktikable Lösung, da die Wahrscheinlichkeit für Probleme mit der Einrichtung und Verfügbarkeit hoch ist. Vor Ort beim
Klienten anzukommen und festzustellen, dass der Plan der zu erbringenden Leistungen wegen Verbindungsproblemen nicht
verfügbar ist, führt zu nicht hinnehmbaren Einschränkungen, da so eventuell wichtige medizinische Tätigkeiten nicht
durchgeführt werden. Notwendig ist deshalb, den Plan für eine oder mehrere Schichten sowie alle relevanten Informationen
zu Personen (Klienten, Angehörigen, Ärzten) vor dem Beginn einer Schicht lokal auf dem mobilen Endgerät zu speichern und
somit auch ohne Internet verfügbar zu haben. Lediglich Aktualisierungen müssten so während einer Schicht nachgeladen
werden. Wird das initiale Laden von Informationen über ein lokales Netzwerk durchgeführt, spart dies außerdem
Datenvolumen ein, welches bei Verträgen mit Internet über das Mobilfunknetz meist sehr begrenzt ist
\textcolor{red}{(Quelle notwendig?)}.\\

Wichtig bei der Dokumentation von Wunden ist neben einer textuellen Beschreibung eine bildliche Erfassung. Dies könnte
mit einer mitgeführten Digitalkamera erfolgen, jedoch besteht dann das Problem, dass die aufgenommenen Bilder nach
vollendeter Schicht manuell an das zentrale System übertragen werden müssen und den richtigen Patienten zugeordnet. Dies
kostet verhältnismäßig viel Zeit und kann zu Fehlern bei der Zuordnung führen. Wünschenswert ist deswegen eine Funktion
in der mobilen Anwendung, die es ermöglicht, direkt über eine interne Kamera Wundfotos aufzunehmen und diese an das
zentrale System zu übertragen.\\
Eine ähnliche Anforderung wurde bei der Erfassung der Vitalwerte wie Puls und Blutdruck identifiziert. Neben der
manuellen Messung und Eintragung der ermittelten Werte gäbe es die Möglichkeit, ein automatisches Messgerät via
Bluetooth an das mobile Endgerät anzuschließen und damit die Messung und Eintragung vollständig zu automatisieren.
Fehler bei der manuellen Eintragung von Messwerten würden somit ausgeschlossen. Da die Möglichkeit besteht, dass das
automatische Messgerät ausfällt, muss eine manuelle Eintragung jedoch trotzdem möglich sein.\\
Das Projekt VitaBit befasste sich, ähnlich wie diese Arbeit, mit der Dokumentation von Pflegeleistungen ambulanter
Dienste. Auch hier musste einer Pflegekraft ein Tages-/Tourenplan angezeigt werden. Da die Leistungen ambulanter Dienste
ausschließlich vor Ort beim Klienten erbracht werden, die häufig allein leben und nur noch eingeschränkt mobil sind, hat
die Pflegekraft in der Regel einen Schlüssel zu den Wohnräumen des Klienten. Die Schlüssel aller Klienten werden meist
an einem Bund zusammengefasst und mit Nummern zur Zuordnung versehen. Damit die Pflegekraft nicht erst lang nach dem
passenden Schlüssel suchen muss, war eine Anforderung, dass die Schlüsselnummer direkt in der Übersicht der Stationen
auftaucht. Da die in dieser Arbeit entwickelte Arbeit ebenfalls für den ambulanten Pflegedienst gedacht ist, wird diese
Anforderung auch hier übernommen. Im Falle der stationären Betreuung von Klienten soll anstatt einer Schlüsselnummer die
Zimmernummer in der Einrichtung angezeigt werden.\\
Die Zielgruppe, für die die mobile Anwendung entwickelt wird, sind Angehörige der Alten- und Pflegeberufe. Da es sich
bei dieser Gruppe in der Regel um wenig IT-affine Personen handelt, muss die Anwendung übersichtlich strukturiert werden
und intuitiv bedienbar sein, damit die Hürden der Benutzung durch die Bedienbarkeit möglichst gering sind. Ziel ist es,
dass das grundsätzliche Wissen über die Bedienung von Tablet-PCs sowie das Fachwissen über die Dokumentation der
Leistungen ausreicht, um die mobile Anwendung zu verwenden. Der Aufwand für Schulungen soll so minimal gehalten werden.
Konzeptionell soll eine Orientierung an den graphischen Benutzerschnittstellen von iOS und Android stattfinden, den
Betriebssystemen für mobile Geräte von Apple und Google.\\
Eine Funktionalität, die in erster Linie für ambulante Pflegedienste interessant ist, ist die Möglichkeit die Adresse
eines Klienten auf einer Karte anzeigen zu lassen. Alternativ könnte \acs{gps} könnte auch die aktuelle Position relativ
zur Adresse des Klienten angezeigt werden, um eine Routenplanung durchzuführen und somit Fahrzeiten besser abschätzen zu
können. Hierzu ist allerdings eine aktive Internetverbindung notwendig. Eine vollständige Navigation ist nicht
geplant.\\
Um eine Reduzierung der elektronischen Geräte zu erreichen, die eine Pflegekraft mitführen muss, ist eine Funktion zum
Führen von Telefongesprächen hilfreich. Einerseits könnten normale Telefongespräche beispielsweise mit der Zentrale,
Angehörigen oder Ärzten geführt werden, andererseits wäre es aber auch möglich, einen Notruf-Knopf in die Anwendung zu
integrieren, um in Notsituationen direkt Hilfe anfordern zu können. Beschränkt wird die Funktionalität zwar durch die
Notwendigkeit der Verfügbarkeit eines Mobilfunknetzes, jedoch kann diese Einschränkung ebenso beim Mitführen eines
separaten Mobiltelefons.\\

Von der bisher beschriebenen Menge an Funktionen ist lediglich die automatische Erfassung von Blutdruck und Puls mittels
eines per Bluetooth angeschlossenen Messgerätes durch manuelle Erfassung substituierbar. Alle anderen Anforderungen
müssen auf Basis der in der Literatur gewonnen Erkenntnisse umgesetzt werden, um einen sinnvollen Einsatz der mobilen
Anwendung überhaupt erst zu ermöglichen.\\

Aus den beschriebenen funktionalen Anforderungen an die mobile Anwendung ergeben sich eine Reihe von technischen
Anforderungen an das Endgerät. Grundanforderung ist eine Internetverbindung sowohl über ein lokales \acs{wlan}, als
auch über ein Mobilfunknetz, um Tourendaten und Aktualisierungen empfangen und senden zu könnnen. Zur Dokumentation von
Wunden per Foto muss eine Kamera mit einer ausreichend hohen Auflösung vorhanden sein, damit das medizinische Personal
bei der Beurteilung der Wunden nicht durch schlechte Bildqualität eingeschränkt wird. Zur Unterstützung der intuitiven
Bedienung sollte das mobile Gerät einen berührungsempfindlichen Bildschirm haben, was aber bei allen Engeräten der Fall
sein sollte, da dies eines der Hauptmerkmale von Tablet-PCs ist. Zur Bestimmung der Position einer Pflegekraft, um die
Route zum nächsten Klienten zu berechnen, muss eine \acs{gps}-Verbindung möglich sein. Sollen Messgeräte für Blutdruck
und Puls angeschlossen werden, muss eine Bluetooth-Verbindung verfügbar sein.

Da Alten- und Krankenpflege dem sozialen Bereich zuzuordnen ist und ein Ziel die Einsparung von Kosten ist,
sollten die Endgeräte möglichst geringe Kosten verursachen. Obwohl grundsätzlich Tablet-PCs sowohl mit dem
Android-Betriebssystem als auch mit iOS die technischen Anforderungen erfüllen, können Android Geräte zu einem deutlich
niedrigeren Preis erworben werden. Aus diesem Grund fällt die Entscheidung bei der Wahl der Plattform auf Android.



\begin{itemize}
  \item Wie wurden die Anforderungen erhoben?
	  \begin{itemize}
	  		\item Richtlinie
	  		\item Gespräche mit Raymond
	  		\item Gespräche Corinna
	  		\item Gesunder Menschenverstand
	  		\item Wissen über Zielgruppe
	  		\item Artikel Ärzteblatt
	  		\item Diplomarbeit Christina Hardt
	  		\item Projekt VitaBit (Schlüsselnummer, Tourenplan)
	  		\item \ldots   
  	  \end{itemize}
  \item Kernanforderungen (Prio A)
  	\begin{itemize}
	  		\item Funktionalität
	  			\begin{itemize}
			  		\item Informationen über Klienten müssen verfügbar sein (Patientenakte) [CHECK]
			  		\item Persönliche Daten $\rightarrow$ Schutz durch Login-Funktion [CHECK]
			  		\item Dokumentation von Tätigkeiten aus Richtlinie muss möglich sein [CHECK]
			  		\item ambulante und stationäre Pflege abdecken! [CHECK]			  		
			  		\item Dokumentierte Tätigkeiten müssen an zentrales System übertragbar sein [CHECK] 
			  		\item Ablaufplan jeweils für eine MFP pro Tag/Schicht	[CHECK]	
			  		\item Übersicht, ob jeweilige Station schon vollständig abgearbeitet [CHECK]	  		
			  		\item Es muss eine Tätigkeit als \textit{nicht durchgeführt} markiert werden können + Begründung,falls etwas			  		
			  		dazwischenkommt [CHECK]
			  		\item Einmal dokumentierte Werte sollten korrigierbar sein [CHECK]
			  		\item Nachvollziehbarkeit von Änderungen [CHECK]		  		
			  		\item Daten "`offline"' auf dem Endgerät verfügbar, d.h. keine zwangsläufige Internetverbindung [CHECK]
			  		\item Dokumentation von Wunden (Fotos) [CHECK]
			  		\item Erfassung von Vitalwerten (Blutdruck, Puls), evtl. mittels automatischer Erfassung [CHECK]
			  		\item Schlüsselnummer für Hausbesuche bzw. Zimmernummer bei stationären Behandlungen (aus VitaBIT)	[CHECK]		  		
			  		\item Klar und übersichtlich strukturierte Anwendung, intuitive Bedienung (am besten Touch, Endnutzerwissen)
			  		[CHECK]
			  		\item Für ambulanten Dienst eventuell Navigation mittels GPS [CHECK]
			  		\item Telefongespräche? [CHECK]
			  		\item \ldots   
		  	    \end{itemize}
		  	\item Abgeleitete technische Anforderungen
			   \begin{itemize}
			     	\item sozialer Kontext $\rightarrow$ günstige Hardware
			  		\item da zentrales System über REST (Erklärung REST!) kommuniziert, muss diese Schnittstelle bedient werden
			  		\item \textbf{Hardware:} mobiles Endgerät muss internetfähig sein (am besten über Mobilfunknetze für ambulanten
			  		Dienst), eine Kamera haben (Wunddokumentation), am besten Touch-Bedienung, darf trotzdem nicht so teuer sein, evtl. GPS, falls
			  		automatische Erfassung evtl. Bluetooth $\rightarrow$ Android-Tablet
			  		\item Falls doch jemand Apple will, nach Mglk. suchen, wie das evtl. auch bedienst werden kann
			  		\item Änderungen an zu dokumentierenden Tätigkeiten sind zu erwarten, also möglichst flexible Architektur
			  		\item Lokale Datenbanken müssen einrichtbar sein
			  		\item \ldots   
		  	  \end{itemize} 
	  		\item \ldots   
  	  \end{itemize}
  \item Wünschenswerte Eigenschaften, um Nutzungskomfort zu steigern (Prio B)
  \item Anforderungen, die über die reine Dokumentation oder dessen Unterstützung hinausgehen (Prio C, werden in der Arbeit nicht behandelt)
\end{itemize}

\section{Entwurfsentscheidungen des Gesamtsystems auf Basis der erhobenen Anforderungen}
\label{sec:entwurfsentscheidungen}

\begin{itemize}
  \item Kurze Erklärung der Kommunikation zwischen App und zentralem System (CareNet). Erklärung,  
  warum Middleware notwendig (Cross Domain Calling) und warum gewünscht (Erweiterung um
  Schnittstellen zu Krankenhäusern und Hausarztpraxen).
  \item Middleware
  	\begin{itemize}
  	 	\item Technologie (PHP)
  	 	\item Wo wird Middleware positioniert? Welcher Server? (konzeptionell)
  	 	\item Kommunikation mit REST (Was ist es? Was sind die Vorteile? Wie wird Sicherheit
  	 	hergestellt?)  	 	
  	\end{itemize}
  \item Technologie des Software-Assistenten
  	\begin{itemize}
  	  \item Warum überhaupt Tablet? (Vgl. mit Diplomarbeit der anderen Studentin auf Nokia-Handy)
  	  \item Plattform (Android)
  	  \item Nativ vs. hybrid
  	\end{itemize}
  \item Architektur (Plug-In-Struktur)
  \begin{itemize}
  	  \item Warum Plug-In? Vorteile?
  	  \item Argumentation mit Wartbarkeit (ISO-Richtlinie), Erwartete Änderungen der Anforderungen,
			Verweis auf Entwurfsmuster, Vgl.mit Eclipse als Praktische Implementierung
  	\end{itemize}
\end{itemize}